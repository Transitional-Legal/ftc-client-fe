{"version":3,"sources":["apis/api.js","components/auth/Auth.js","components/layout/Nav.js","components/layout/FooterItem.js","components/layout/FooterPanel.js","components/layout/Footer.js","components/layout/Layout.js","components/ErrorMessage.js","components/forms/Input.js","components/Loader.js","components/forms/SubmitSpinnerButton.js","components/auth/LoginForm.js","components/Card.js","pages/LoginPage.js","components/auth/RegisterForm.js","pages/RegisterPage.js","pages/LoadingPage.js","components/auth/AuthRoute.js","components/Table.js","components/transactions/TransactionTable.js","components/LabelledTable.js","components/users/UserStats.js","components/pay-information/PayInformationTable.js","components/ButtonInputSwitcher.js","components/pay-information/PayInformationActions.js","pages/Dashboard.js","components/auth/ResetPasswordLinkForm.js","components/auth/ResetPasswordForm.js","pages/ResetPasswordPage.js","pages/VerifyEmailPage.js","components/addresses/AddressTable.js","components/addresses/AddressGroupTable.js","components/IconButton.js","hooks/useSelectedRow.js","pages/AddressesPage.js","components/forms/Toggle.js","pages/ProfilePage.js","components/Modal/ModalHeader.js","components/Modal/ModalFooter.js","components/Modal/Modal.js","components/auth/RefreshLoginModal.js","components/Router.js","components/App.js","index.js","constants/index.js"],"names":["open","axios","create","baseURL","process","headers","secure","interceptors","request","use","config","user","JSON","parse","window","localStorage","getItem","token","Authorization","error","Promise","reject","AuthContext","createContext","AuthProvider","children","useState","setUser","isLoading","setLoading","isLoggingIn","setLoggingIn","loginError","setLoginError","isVerified","setVerified","hasVerified","setHasVerified","useSWR","id","userDetails","data","fetchDetailsError","isFetchingDetails","depositHints","userAddress","emailVerified","mobileVerified","idVerificationStatus","depositAmount","useEffect","length","undefined","cache","clear","initialUser","login","credentials","email","setItem","stringify","Provider","value","logout","removeItem","_Nav","links","noBrand","activeTab","useContext","history","useHistory","label","onClick","push","name","Navbar","bg","expand","Brand","style","cursor","className","alt","Toggle","aria-controls","Collapse","Nav","map","i","classes","String","NavDropdown","title","key","c","ind","Item","type","Link","FooterItem","item","icon","text","jsx","link","Array","isArray","t","href","target","rel","Panel","panel","heading","items","panels","download","Footer","Layout","header","footer","noFooter","noHeader","navLinks","props","ErrorMessage","isHidden","message","response","Alert","variant","FormGroupWrap","isWrapped","Input","onChange","skinny","useField","field","meta","helpers","e","touched","Loader","loading","noBackground","diameter","noStretch","light","_style","width","height","borderColor","borderTopColor","display","backgroundColor","position","SubmitButtonSpinner","submitText","isSubmitting","iconStyle","spaceBetween","Button","block","disabled","marginRight","fontSize","validate","username","password","errors","isEmail","trim","LoginForm","initialValues","onLogin","noReset","onSubmit","values","actions","console","log","setErrors","setSubmitting","navToResetPassword","flex","placeholder","SubmitSpinnerButton","Card","LoginPage","to","maxWidth","minHeight","defaultValues","passwordMatch","firstName","lastName","referralCode","requiredMsg","minPasswordLength","RegisterForm","_iv","logo","parsedValues","v","trackHDAddress","createHDAddress","api","post","hidden","src","Register","location","useLocation","search","qs","ignoreQueryPrefix","first","last","LoadingPage","AuthRoute","component","allowUnverified","isPageLoading","Component","redirectPath","render","defaultTdStyle","overflowWrap","wordWrap","whiteSpace","wordBreak","Table","columnConfig","striped","hover","version","pagination","tableContainerClass","keyField","Object","keys","filter","dataField","indexOf","tdStyle","thStyle","dataSort","date","dataFormat","cell","moment","format","reference","amount","textAlign","tableOptions","hideSizePerPage","sizePerPage","gid","columnOrder","TransactionTable","transactions","unStyled","sort","a","b","Date","getTime","groupID","options","trClassName","row","LabelledTable","columns","trProps","labelProps","valueProps","UserStats","stats","totalBTC","totalAUD","format$","code","depositCount","averageRate","maxRate","minRate","getColumns","transfers","total","deposits","count","flattenData","PayInformationTable","bankDetails","number","bsb","ButtonInputSwitcher","confirmText","onCancel","isInputShown","setInputShown","inputValue","setInputValue","inputEl","useRef","handleSubmit","preventDefault","handleCancel","ref","setTimeout","current","focus","ButtonGroup","icons","sms","customEmail","done","messages","default","reducer","state","action","newState","isSending","isSent","initialState","actionSharedProps","PayInformationActions","useReducer","dispatch","smsInstructionsToMe","gpib","get","emailInstructionsToMe","emailInstructions","emailInstructionsToOther","Dashboard","getFullYear","year","setYear","transactionsDownload","setTransactionsDowload","show","downloadError","setDownloadError","csvRef","fetchTransactionsError","currentYear","handleDownload","filterTransactions","resolve","click","filename","ResetPasswordLinkForm","timer","setTimer","showAlert","setShowAlert","isDisabled","newTimer","getSubmitText","txt","ResetPasswordForm","onSuccess","onError","setPassword","wrappedLogin","authorization","ResetPasswordPage","useParams","VerifyEmailPage","isVerifying","setVerifying","setError","mutate","verifytoken","address1","percent","AddressTable","addresses","AddressGroupTable","IconButton","minWidth","useSelectedRows","initialValue","tableConfig","selected","setSelected","defaultConfig","mode","onSelect","AddressesPage","getAddressesUrl","useSelectedRow","selectRowConfig","selectedGroup","selectGroupRowConfig","fetchAddressError","isFetchingAddresses","hasMultipleAddresses","settings","fetchSettingsError","groupAddress","unGroupAddress","alertText","hide","allowGroupedAddresses","groupActions","selectRow","ToggleField","setValue","referralRate","fetchReferralRate","isFetchingSettings","accountInfo","fetchAccountInfoError","isFetchingAccountInfo","fullName","middleName","n","join","mobile","mobileNumber","parsePhoneNumberFromString","feesPerTransaction","fees","profileColumns","payrollColumns","employerName","bankStatement","accountInfoColumns","btcThreshold","updateSettings","updates","url","patch","settingsColumns","sendEmailOnTransfer","sendPGPEmails","referralColumns","REACT_APP_URL","fixedAmount","_e","pathname","ModalHeader","onDismiss","noExit","aria-hidden","ModalFooter","Modal","isOpen","large","small","body","document","querySelector","setDisplay","setShow","classList","add","transitionIn","transitionOut","remove","wrapCallback","func","args","ReactDOM","createPortal","stopPropagation","pendingRequests","RefreshLoginModal","setOpen","el","forEach","contains","res","original","status","Router","path","RegisterPage","ProfilePage","swrConfig","fetcher","then","shouldRetryOnError","App","exports"],"mappings":"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","file":"static/js/main.41dd46b7.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst open = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  headers: {\n    \"Cache-Control\": \"no-store\"\n  }\n});\n\nconst secure = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  headers: {\n    \"Cache-Control\": \"no-store\"\n  }\n});\n\nsecure.interceptors.request.use(\n  async (config) => {\n    const user = JSON.parse(window.localStorage.getItem(\"user\"));\n    const { token } = user;\n    if (token) config.headers.Authorization = `Bearer ${token}`;\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\nexport default { open, secure };\n","import React, { createContext, useEffect, useState } from \"react\";\nimport useSWR, { cache } from \"swr\";\nimport api from \"apis/api\";\n\nexport const AuthContext = createContext(null);\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [isLoading, setLoading] = useState(true);\n  const [isLoggingIn, setLoggingIn] = useState(false);\n  const [loginError, setLoginError] = useState(null);\n  const [isVerified, setVerified] = useState(false);\n  const [hasVerified, setHasVerified] = useState(false);\n  const [skipKYC, setSkipKYC] = useState(false);\n\n  const { data: userDetails, error: fetchDetailsError } = useSWR(\n    user && `/user/${user.id}`\n  );\n\n  const isFetchingDetails = user && !userDetails && !fetchDetailsError;\n\n  const { data: depositHints } = useSWR(\n    user && `/user/${user.id}/deposithints`\n  );\n\n  const { data: userAddress } = useSWR(user && `/user/${user.id}/address`);\n  const { emailVerified, mobileVerified, idVerificationStatus } = userDetails || {};\n  const { depositAmount } = depositHints || {};\n\n  useEffect(() => {\n    const isVerified =\n      userAddress &&\n      userAddress.length > 0 &&\n      emailVerified &&\n      mobileVerified &&\n      depositAmount !== undefined &&\n      (idVerificationStatus === 3);\n    setVerified(isVerified);\n  }, [\n    userAddress,\n    emailVerified,\n    mobileVerified,\n    depositAmount,\n    idVerificationStatus,\n    setVerified\n  ]);\n\n  useEffect(() => {\n    cache.clear();\n    const initialUser = JSON.parse(window.localStorage.getItem(\"user\"));\n    setUser(initialUser);\n    setLoading(false);\n  }, []);\n\n  const login = async (credentials) => {\n    try {\n      cache.clear();\n      setLoggingIn(true);\n      // const { data: user } = await api.open.post(\n      //   \"/user/authenticate\",\n      //   credentials\n      // );\n\n      const user = {\n        id: 1,\n        email: \"test@example.com\"\n      };\n\n      window.localStorage.setItem(\"user\", JSON.stringify(user));\n      setUser(user);\n      setLoggingIn(false);\n    } catch (e) {\n      setLoggingIn(false);\n      setLoginError(e);\n      throw e;\n    }\n  };\n\n  const logout = () => {\n    window.localStorage.removeItem(\"user\");\n    cache.clear();\n    setUser(null);\n    setHasVerified(false);\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user: user && {\n          ...userDetails,\n          ...user\n        },\n        isLoggingIn: isLoggingIn || isFetchingDetails,\n        isLoading,\n        login,\n        logout,\n        loginError,\n        isVerified,\n        setVerified,\n        hasVerified,\n        setHasVerified,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Nav, Navbar, NavDropdown } from \"react-bootstrap\";\nimport { AuthContext } from \"components/auth/Auth\";\nimport \"./Nav.scss\";\n\nconst _Nav = ({ links, noBrand = false, activeTab }) => {\n  const { logout, user, isVerified } = useContext(AuthContext);\n  const history = useHistory();\n  // Set default links\n\n  const loginLink = user\n    ? { label: \"Log Out\", onClick: logout }\n    : { label: \"Log In\", onClick: () => history.push(\"/login\") };\n\n  const verifiedOnlyLinks = !isVerified\n    ? []\n    : [\n        {\n          label: \"Dashboard\",\n          onClick: () => history.push(\"/\")\n        },\n        {\n          label: \"Addresses\",\n          onClick: () => history.push(\"/addresses\")\n        },\n        {\n          label: \"Profile\",\n          onClick: () => history.push(\"/profile\"),\n          name: \"profile\"\n        },\n        {\n          label: \"Contact Support\",\n          onClick: () => history.push(\"/contactsupport\")\n        }\n      ];\n\n  if (!links) {\n    links = [...verifiedOnlyLinks, loginLink];\n  }\n\n  // For a dropdown menu item, add an object like this to the links array\n  // {\n  //   label: \"Dropdown\",\n  //   children: [\n  //     { type: \"Item\", label: \"Action 1\", onClick: () => console.log(\"action\") },\n  //     { type: \"Item\", label: \"Action 2\", onClick: () => console.log(\"action\") },\n  //     { type: \"Divider\" },\n  //     { type: \"Item\", label: \"Action 3\", onClick: () => console.log(\"action\") }\n  //   ]\n  // }\n\n  const renderBrand = () => (\n    <Navbar.Brand\n      style={{ cursor: \"pointer\" }}\n      onClick={() => history.push(\"/\")}\n    >\n      <img className=\"Logo\" alt=\"Transitional Legal\" />\n    </Navbar.Brand>\n  );\n\n  const renderLinks = () => (\n    <Navbar.Collapse id=\"basic-navbar-nav\" className=\"justify-content-end\">\n      <Nav>\n        {links.map(({ label, onClick, children, name }, i) => {\n          const isActiveTab = activeTab === label || activeTab === String(name);\n          const classes = isActiveTab ? \"active\" : \"\";\n          return !children ? (\n            <Nav.Link onClick={onClick} key={i} className={classes}>\n              <div className=\"d-flex align-items-center justify-content-center\">\n                {label}\n              </div>\n            </Nav.Link>\n          ) : (\n            <NavDropdown title={label} key={i} className={classes}>\n              {children.map((c, ind) => {\n                const Item = NavDropdown[c.type];\n                return (\n                  <Item onClick={c.onClick} key={ind} children={c.label} />\n                );\n              })}\n            </NavDropdown>\n          );\n        })}\n      </Nav>\n    </Navbar.Collapse>\n  );\n  return (\n    <Navbar bg=\"light\" expand=\"lg\">\n      {!noBrand && renderBrand()}\n      {!links.length || <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />}\n      {!links.length || renderLinks()}\n    </Navbar>\n  );\n};\n\nexport default _Nav;\n","import React from \"react\";\n\nconst FooterItem = ({ item }) => {\n  const { icon, text, jsx, link } = item;\n\n  const renderContent = () => {\n    if (jsx) return jsx;\n    if (Array.isArray(text))\n      return text.map((t, i) => <span key={i}>{t}</span>);\n    if (link)\n      return (\n        <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">\n          {text}\n        </a>\n      );\n    return text;\n  };\n\n  return (\n    <div className=\"d-flex\">\n      {icon && (\n        <span className=\"mr-3\">\n          <ion-icon name={icon} />\n        </span>\n      )}\n      <span className=\"d-flex flex-column mb-2\">{renderContent()}</span>\n    </div>\n  );\n};\n\nexport default FooterItem;\n","import React from \"react\";\nimport FooterItem from \"./FooterItem\";\nimport \"./FooterPanel.scss\";\n\nconst Panel = ({ panel }) => {\n  const { heading, items, className } = panel;\n  return (\n    <div className={className}>\n      <div className=\"panel\">\n        <span className=\"heading\">{heading}</span>\n        <div>\n          {items.map((item, i) => (\n            <FooterItem key={i} item={item} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Panel;\n","import React from \"react\";\nimport FooterPanel from \"./FooterPanel\";\nimport \"./Footer.scss\";\nconst panels = [\n  {\n    heading: \"About\",\n    className: \"col-sm-6 col-md-4\",\n    items: [\n      { icon: \"home\", text: \"PO Box 1234\" },\n      {\n        icon: \"briefcase\",\n        text: [\"ABN 00 000 000 000\", \"ACN 000 000 000\"]\n      }\n    ]\n  },\n  {\n    heading: \"Connect With Us\",\n    className: \"col-sm-6 col-md-4\",\n\n    items: [\n      {\n        icon: \"logo-facebook\",\n        text: \"Facebook\",\n        link: \"https://www.facebook.com/\"\n      },\n      {\n        icon: \"logo-twitter\",\n        text: \"Twitter\",\n        link: \"https://www.twitter.com/\"\n      },\n      {\n        icon: \"mail\",\n        text: \"info@\",\n        link: \"mailto:info@\"\n      },\n      {\n        icon: \"lock-closed\",\n        jsx: (\n          <a\n            href=\"http://keys.gnupg.net/pks/lookup?\"\n            children=\"PGP PubKey (000000)\"\n            download\n          >\n            PGP Public Key\n          </a>\n        )\n      }\n    ]\n  }\n];\n\nconst Footer = () => (\n  <div className=\"footer\">\n    <div className=\"row\">\n      {panels.map((panel, i) => (\n        <FooterPanel key={i} panel={panel} />\n      ))}\n    </div>\n  </div>\n);\n\nexport default Footer;\n","import React from \"react\";\nimport Nav from \"components/layout/Nav\";\nimport Footer from \"components/layout/Footer\";\nimport \"./Layout.scss\";\n\nconst Layout = ({\n  header,\n  footer,\n  children,\n  noFooter,\n  noHeader,\n  activeTab,\n  navLinks,\n  ...props\n}) => (\n  <>\n    <header>\n      {noHeader || header || <Nav activeTab={activeTab} links={navLinks} />}\n    </header>\n    <main {...props}>{children}</main>\n    <footer>{noFooter || footer || <Footer />}</footer>\n  </>\n);\n\nexport default Layout;\n","import React from \"react\";\nimport { Alert } from \"react-bootstrap\";\n\nconst ErrorMessage = ({ error, isHidden, ...props }) => {\n  let message = error;\n  const data = error?.response?.data;\n\n  if (typeof error !== \"string\") {\n    message = data?.error || error?.message || error;\n  }\n  if (typeof data === \"string\" && data) {\n    message = data;\n  }\n  return error && !isHidden ? (\n    <Alert variant=\"danger\" {...props}>\n      {message}\n    </Alert>\n  ) : null;\n};\n\nexport default ErrorMessage;\n","import React from \"react\";\nimport { useField } from \"formik\";\nimport ErrorMessage from \"components/ErrorMessage\";\n\nconst FormGroupWrap = ({ isWrapped, children }) =>\n  isWrapped ? <div className=\"form-group\">{children}</div> : <>{children}</>;\n\nconst Input = ({ label, onChange, skinny, ...props }) => {\n  let [field, meta, helpers] = useField(props);\n  if (onChange) field.onChange = (e) => onChange(e, helpers);\n  if (props.value) field.value = props.value;\n  return (\n    <FormGroupWrap isWrapped={!skinny}>\n      {label && <label>{label}</label>}\n      <input className=\"form-control\" {...props} {...field} />\n      <ErrorMessage error={meta.error} isHidden={!meta.touched} />\n    </FormGroupWrap>\n  );\n};\n\nexport default Input;\n","import React from \"react\";\nimport \"./Loader.scss\";\n\nconst Loader = ({\n  loading,\n  children,\n  noBackground,\n  diameter = \"1.5rem\",\n  noStretch,\n  light,\n  className,\n  style: _style = {}\n}) => {\n  if (!loading) return children || null;\n  let classes = \"loader\";\n  if (className) classes += ` ${className}`;\n\n  const style = {\n    width: diameter,\n    height: diameter,\n    borderColor: light ? \"rgba(100, 100, 100, 0.2)\" : \"rgba(0, 0, 0, 0.6)\",\n    borderTopColor: light ? \"rgba(250, 250, 250, 0.5)\" : \"rgba(0, 0, 0, 0.2)\"\n  };\n  return (\n    <div style={{ display: noStretch ? \"inline-block\" : undefined, ..._style }}>\n      <div\n        className={classes}\n        style={{\n          backgroundColor: noBackground ? \"rgba(0,0,0,0)\" : undefined,\n          position: noStretch ? \"\" : \"absolute\"\n        }}\n      >\n        <div style={style} />\n      </div>\n      {children}\n    </div>\n  );\n};\n\nexport default Loader;\n","import React from \"react\";\nimport Loader from \"components/Loader\";\nimport { Button } from \"react-bootstrap\";\n\nconst SubmitButtonSpinner = ({\n  submitText,\n  isSubmitting = false,\n  icon,\n  iconStyle,\n  spaceBetween = \"1rem\",\n  ...props\n}) => (\n  <Button\n    variant=\"primary\"\n    block\n    type=\"submit\"\n    disabled={isSubmitting}\n    {...props}\n  >\n    <div className=\"relative d-flex justify-content-center align-items-center\">\n      <Loader\n        loading={isSubmitting}\n        noBackground\n        noStretch\n        light\n        diameter=\"1.4rem\"\n        style={{ marginRight: spaceBetween }}\n      />\n      {icon && !isSubmitting && (\n        <div\n          className=\"d-flex align-items-center\"\n          style={{ marginRight: spaceBetween }}\n        >\n          <ion-icon name={icon} style={{ fontSize: \"150%\", ...iconStyle }} />\n        </div>\n      )}\n      <span>{submitText}</span>\n    </div>\n  </Button>\n);\n\nexport default SubmitButtonSpinner;\n","import React, { useContext } from \"react\";\nimport { Formik, Form } from \"formik\";\nimport { Button } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport { isEmail, trim } from \"validator\";\nimport Input from \"components/forms/Input\";\nimport SubmitSpinnerButton from \"components/forms/SubmitSpinnerButton\";\nimport { AuthContext } from \"components/auth/Auth\";\n\nconst validate = ({ username, password }) => {\n  const errors = {};\n  if (!isEmail(trim(username))) errors.username = \"Please enter a valid email\";\n  if (!password) errors.password = \"Please enter a password\";\n  return errors;\n};\n\nconst LoginForm = ({\n  initialValues = { username: \"\", password: \"\" },\n  onLogin,\n  noReset,\n  style = {}\n}) => {\n  const { login } = useContext(AuthContext);\n  const history = useHistory();\n  const onSubmit = async (values, actions) => {\n    try {\n      await login(values);\n      if (onLogin) onLogin(values);\n    } catch (e) {\n      console.log(e);\n      actions.setErrors({\n        password: \"Unable to login. Please check your email or password.\"\n      });\n      actions.setSubmitting(false);\n    }\n  };\n\n  const navToResetPassword = () => history.push(\"/auth/resetpassword\");\n  return (\n    <Formik\n      initialValues={initialValues}\n      validate={validate}\n      onSubmit={onSubmit}\n    >\n      {({ isSubmitting }) => (\n        <Form\n          className=\"login-form\"\n          style={{ flex: 1, width: \"100%\", ...style }}\n        >\n          <Input name=\"username\" placeholder=\"Email\" />\n          <Input name=\"password\" type=\"password\" placeholder=\"Password\" />\n          <SubmitSpinnerButton\n            submitText=\"Log in\"\n            isSubmitting={isSubmitting}\n          />\n          {!noReset && (\n            <Button\n              variant=\"light\"\n              block\n              onClick={navToResetPassword}\n              children=\"Reset Password\"\n            />\n          )}\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default LoginForm;\n","import React from \"react\";\nimport \"./Card.scss\";\n\nconst Card = ({ children, className, ...props }) => {\n  let classes = \"gpib-card\";\n  if (className) classes += ` ${className}`;\n  return (\n    <div className={classes} {...props}>\n      {children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React, { useContext } from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport { Button } from \"react-bootstrap\";\nimport { AuthContext } from \"components/auth/Auth\";\nimport Layout from \"components/layout/Layout\";\nimport LoginForm from \"components/auth/LoginForm\";\nimport Card from \"components/Card\";\n\nconst LoginPage = () => {\n  const { user } = useContext(AuthContext);\n  const history = useHistory();\n  if (user) return <Redirect to=\"/\" />;\n  return (\n    <Layout navLinks={[]}>\n      <div className=\"d-flex justify-content-center container py-5 align-items-center\">\n        <Card\n          className=\"d-flex flex-column justify-content-center align-items-center\"\n          style={{ flex: 1, maxWidth: \"40rem\", minHeight: \"30rem\" }}\n        >\n          <LoginForm style={{ flex: undefined }} />\n          <Button\n            block\n            variant=\"link\"\n            className=\"mt-2\"\n            onClick={() => history.push(\"/register\")}\n          >\n            Don't have an account? Register\n          </Button>\n        </Card>\n      </div>\n    </Layout>\n  );\n};\n\nexport default LoginPage;\n","import React, { useContext } from \"react\";\nimport { Formik, Form } from \"formik\";\nimport { isEmail } from \"validator\";\nimport Input from \"components/forms/Input\";\nimport SubmitSpinnerButton from \"components/forms/SubmitSpinnerButton\";\nimport api from \"apis/api\";\nimport ErrorMessage from \"components/ErrorMessage\";\nimport { AuthContext } from \"components/auth/Auth\";\nimport { minPasswordLength } from \"constants/index\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./RegisterForm.scss\"\n\nconst defaultValues = {\n  email: \"\",\n  password: \"\",\n  passwordMatch: \"\",\n  firstName: \"\",\n  lastName: \"\",\n  referralCode: \"\"\n};\n\nconst parseSubmitValues = (v) => ({\n  firstName: v.firstName,\n  lastName: v.lastName,\n  email: v.email,\n  password: v.password,\n  referralCode: v.referralCode,\n  trackHDAddress: false,\n  createHDAddress: false\n});\n\nconst validate = ({ email, password, firstName, lastName }) => {\n  const requiredMsg = \"This field is required\";\n  const errors = {};\n\n  // Required fields\n  if (!email) errors.email = requiredMsg;\n  if (!password) errors.password = requiredMsg;\n  if (!firstName) errors.firstName = requiredMsg;\n  if (!lastName) errors.lastName = requiredMsg;\n\n  // Formatting\n  if (!isEmail(email)) errors.email = \"Please enter a valid email\";\n  if (password.length < minPasswordLength)\n    errors.password = `Password must be at least ${minPasswordLength} characters`;\n\n  return errors;\n};\n\nconst RegisterForm = ({ initialValues: _iv, logo }) => {\n  const initialValues = { ...defaultValues, ..._iv };\n  const { login } = useContext(AuthContext);\n  const history = useHistory();\n  const onSubmit = async (values, actions) => {\n    try {\n      const parsedValues = parseSubmitValues(values);\n      await api.open.post(\"/user\", parsedValues);\n      login({\n        username: parsedValues.email,\n        password: parsedValues.password\n      });\n      history.push(\"/\");\n    } catch (e) {\n      console.log(e);\n      actions.setErrors({ hidden: e });\n      actions.setSubmitting(false);\n    }\n  };\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      validate={validate}\n      onSubmit={onSubmit}\n    >\n      {({ isSubmitting, errors }) => (\n        <Form style={{ flex: 1, width: \"100%\" }}>\n          <div className=\"\">\n            {logo && (<div className=\"mb-5 mt-2 d-flex justify-content-center\"><img src={`${process.env.REACT_APP_API_URL}/Logos/${logo}`} alt=\"logo\" className=\"logo-image\" /></div>)}\n          </div>\n          <Input\n            name=\"email\"\n            placeholder=\"Your email address\"\n            disabled={initialValues?.email}\n          />\n          <Input name=\"password\" type=\"password\" placeholder=\"Password\" />\n          {/* <Input\n            name=\"passwordMatch\"\n            type=\"password\"\n            placeholder=\"Confirm Password\"\n          /> */}\n          <Input\n            name=\"firstName\"\n            placeholder=\"First Name\"\n            disabled={initialValues?.firstName}\n          />\n          <Input\n            name=\"lastName\"\n            placeholder=\"Last Name\"\n            disabled={initialValues?.lastName}\n          />\n\n          <ErrorMessage error={errors.hidden} />\n          <SubmitSpinnerButton submitText=\"Join\" isSubmitting={isSubmitting} />\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default RegisterForm;\n","import React from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport qs from \"qs\";\nimport { Button } from \"react-bootstrap\";\nimport Layout from \"components/layout/Layout\";\nimport Card from \"components/Card\";\nimport RegisterForm from \"components/auth/RegisterForm\";\n\nconst Register = () => {\n  const history = useHistory();\n  const location = useLocation();\n\n  const firstName =\n    location?.search &&\n    qs.parse(location.search, { ignoreQueryPrefix: true })?.first;\n  const lastName =\n    location?.search &&\n    qs.parse(location.search, { ignoreQueryPrefix: true })?.last;\n  const email =\n    location?.search &&\n    qs.parse(location.search, { ignoreQueryPrefix: true })?.email;\n\n  return (\n    <Layout navLinks={[]}>\n      <div className=\"d-flex flex-column justify-content-center container align-items-center\">\n        <div className=\"p-3 mt-4\">\n          <h3>\n            Welcome to Transitional Legal customer portal, where you can track the progress of your matter.\n          </h3>\n          <br></br>\n          <p>\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. <br></br>\n          </p>\n        </div>\n        <div className=\"d-flex justify-content-center container align-items-center\">\n          <Card\n            className=\"d-flex flex-column justify-content-center align-items-center\"\n            style={{ flex: 1, maxWidth: \"40rem\" }}\n          >\n            <RegisterForm\n              initialValues={{ firstName, lastName, email }}\n            />\n            <Button\n              block\n              variant=\"link\"\n              className=\"mt-2\"\n              onClick={() => history.push(\"/login\")}\n            >\n              Have an account? Log In\n            </Button>\n          </Card>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Register;\n","import React from \"react\";\nimport Layout from \"components/layout/Layout\";\nimport Loader from \"components/Loader\";\n\nconst LoadingPage = () => (\n  <Layout>\n    <Loader loading />\n  </Layout>\n);\n\nexport default LoadingPage;\n","import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { AuthContext } from \"components/auth/Auth\";\nimport LoadingPage from \"pages/LoadingPage\";\n\nconst AuthRoute = ({ component, allowUnverified, ...props }) => {\n  const { user, isLoggingIn, isLoading: isPageLoading } = useContext(\n    AuthContext\n  );\n  const Component = component;\n  const redirectPath = user ? \"/\" : \"/login\";\n\n  return (\n    <Route\n      {...props}\n      render={() =>\n        isLoggingIn || isPageLoading ? (\n          <LoadingPage />\n        ) : user ? (\n          <Component />\n        ) : (\n          <Redirect to={redirectPath} />\n        )\n      }\n    />\n  );\n};\n\nexport default AuthRoute;\n","import React from \"react\";\nimport { BootstrapTable, TableHeaderColumn } from \"react-bootstrap-table\";\n\nconst defaultTdStyle = {\n  overflowWrap: \"break-word\",\n  wordWrap: \"break-word\",\n  whiteSpace: \"normal\",\n  wordBreak: \"break-word\"\n};\nconst Table = ({ columnConfig = {}, hidden = [], ...props }) => (\n  <BootstrapTable\n    striped\n    hover\n    version=\"4\"\n    pagination\n    tableContainerClass=\"table-responsive\"\n    keyField=\"id\"\n    {...props}\n  >\n    {Object.keys(columnConfig)\n      .filter((dataField) => hidden.indexOf(dataField) < 0)\n      .map((dataField) => {\n        const { tdStyle, thStyle, ...config } = columnConfig[dataField];\n        return (\n          <TableHeaderColumn\n            key={dataField}\n            dataField={dataField}\n            dataSort\n            thStyle={{ ...defaultTdStyle, ...thStyle }}\n            tdStyle={{ ...defaultTdStyle, ...tdStyle }}\n            {...config}\n          />\n        );\n      })}\n  </BootstrapTable>\n);\n\nexport default Table;\n","import React from \"react\";\nimport moment from \"moment\";\nimport Table from \"components/Table\";\nimport \"./TransactionTable.scss\";\n\n// dataField (key) props (value)\nconst columnConfig = {\n  date: {\n    children: \"Created\",\n    dataFormat: (cell) => cell && moment(cell).format(\"DD-MM-YYYY\")\n  },\n  type: {\n    children: \"Type\"\n  },\n  reference: {\n    children: \"Description\"\n  },\n  amount: {\n    children: \"Amount\",\n    tdStyle: { textAlign: \"right\" },\n    thStyle: { textAlign: \"right\" }\n  }\n};\n\nconst tableOptions = {\n  hideSizePerPage: true,\n  sizePerPage: 10\n};\n\nlet gid = 0;\n\nconst columnOrder = [\"Deposit\", \"Fee\", \"Exchange\", \"Transfer\"];\n\nconst TransactionTable = ({ transactions = [], ...props }) => {\n  const unStyled = transactions\n    .sort((a, b) => columnOrder.indexOf(a.type) - columnOrder.indexOf(b.type)) // Use set order when timestamps are equal\n    .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime()) // Sort chronologically\n    .sort((a, b) => b.groupID - a.groupID) // Sort by group reverse chronological order\n    .map((t, id) => ({ id, ...t }));\n\n  const data = unStyled.map((t, i) => {\n    if (i !== 0 && t.groupID !== unStyled[i - 1].groupID) gid += 1;\n    return { ...t, gid };\n  });\n\n  const formatRow = (row, i) => {\n    return row.gid % 2 === 0 ? undefined : \"transaction-table-row\";\n  };\n\n  return (\n    <Table\n      data={data}\n      columnConfig={columnConfig}\n      options={tableOptions}\n      trClassName={formatRow}\n      striped={false}\n      {...props}\n    />\n  );\n};\nexport default TransactionTable;\n","import React from \"react\";\nimport { Table } from \"react-bootstrap\";\n\nconst LabelledTable = ({ columns, ...props }) => {\n  return (\n    <Table hover {...props}>\n      <tbody>\n        {columns.map(([label, value, config], i) => (\n          <tr key={i} {...config?.trProps}>\n            <td {...config?.labelProps}>{label}</td>\n            <td className=\"text-right\" {...config?.valueProps}>\n              {value}\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </Table>\n  );\n};\n\nexport default LabelledTable;\n","import React from \"react\";\nimport { format as format$ } from \"currency-formatter\";\nimport LabelledTable from \"components/LabelledTable\";\n\nconst flattenData = (stats) => {\n  return {\n    totalBTC: stats?.stats?.transfers?.total || 0,\n    totalAUD: stats?.stats?.deposits?.total || 0,\n    depositCount: stats?.stats?.deposits?.count || 0,\n    averageRate: stats?.stats?.transfers?.averageRate || 0,\n    maxRate: stats?.stats?.transfers?.maxRate || 0,\n    minRate: stats?.stats?.transfers?.minRate || 0\n  };\n};\n\nconst getColumns = (data) => {\n  const map = {\n    totalBTC: {\n      label: \"Total BTC Transferred\",\n      format: (v) => `${v || 0} BTC`\n    },\n    totalAUD: {\n      label: \"Total Fiat Deposited (AUD)\",\n      format: (v) => format$(v, { code: \"AUD\" })\n    },\n    depositCount: {\n      label: \"Deposit Count\",\n      format: (v) => v\n    },\n    averageRate: {\n      label: \"Average Purchase Price ($/BTC)\",\n      format: (v) => format$(v, { code: \"AUD\" })\n    },\n    maxRate: {\n      label: \"Max Price ($/BTC)\",\n      format: (v) => format$(v, { code: \"AUD\" })\n    },\n    minRate: {\n      label: \"Min Price ($/BTC)\",\n      format: (v) => format$(v, { code: \"AUD\" })\n    }\n  };\n\n  return Object.keys(data).map((key) => {\n    return [map[key].label, map[key].format(data[key])];\n  });\n};\n\nconst UserStats = ({ stats = {} }) => {\n  const data = flattenData(stats);\n  const columns = getColumns(data);\n\n  return <LabelledTable columns={columns} hover={false} />;\n};\n\nexport default UserStats;\n","import React, { useContext } from \"react\";\nimport LabelledTable from \"components/LabelledTable\";\nimport { AuthContext } from \"components/auth/Auth\";\n\nexport default function PayInformationTable({\n  bankDetails,\n  userDetails\n}) {\n  const { user } = useContext(AuthContext);\n  const ref = \"REF 123\";\n\n  const columnConfig = [\n    [\"Account Name\", bankDetails?.name],\n    [\"Account Number\", bankDetails?.number],\n    [\"BSB\", bankDetails?.bsb],\n    [\"Reference\", ref]\n  ];\n  return <LabelledTable hover={false} columns={columnConfig} />;\n}\n","import React, { useState, useRef } from \"react\";\nimport { Button, ButtonGroup } from \"react-bootstrap\";\nimport SubmitSpinnerButton from \"components/forms/SubmitSpinnerButton\";\n\nconst ButtonInputSwitcher = ({\n  onSubmit,\n  submitText,\n  confirmText = \"Submit\",\n  onCancel,\n  ...props\n}) => {\n  const [isInputShown, setInputShown] = useState(false);\n  const [inputValue, setInputValue] = useState(\"\");\n  const inputEl = useRef(null);\n\n  const handleClick = () => {\n    if (!isInputShown) setInputShown(true);\n    setTimeout(() => inputEl.current.focus(), 0);\n  };\n\n  const handleSubmit = (e) => {\n    if (e.type === \"submit\") e.preventDefault();\n    const actions = {\n      setInputShown,\n      setInputValue\n    };\n    onSubmit(inputValue, actions);\n  };\n\n  const handleCancel = () => {\n    if (onCancel) onCancel();\n    setInputShown(false);\n  };\n\n  const renderChildren = () => {\n    if (!isInputShown) return submitText;\n    return (\n      <form onSubmit={handleSubmit}>\n        <input\n          className=\"form-control\"\n          value={inputValue}\n          onChange={(e) => setInputValue(e.target.value)}\n          ref={inputEl}\n        />\n      </form>\n    );\n  };\n  const renderActions = () => {\n    return !isInputShown ? null : (\n      <ButtonGroup className=\"mb-2\">\n        <Button onClick={handleSubmit}>{confirmText}</Button>\n        <Button onClick={handleCancel}>\n          <ion-icon name=\"close-outline\" />\n        </Button>\n      </ButtonGroup>\n    );\n  };\n\n  return (\n    <div className=\"d-flex justify-content-start align-items-center\">\n      <SubmitSpinnerButton\n        submitText={renderChildren()}\n        onClick={handleClick}\n        {...props}\n      />\n      {renderActions()}\n    </div>\n  );\n};\n\nexport default ButtonInputSwitcher;\n","import React, { useReducer, useContext } from \"react\";\nimport { isEmail } from \"validator\";\nimport SubmitSpinnerButton from \"components/forms/SubmitSpinnerButton\";\nimport { AuthContext } from \"components/auth/Auth\";\nimport gpib from \"apis/api\";\nimport ButtonInputSwitcher from \"components/ButtonInputSwitcher\";\n\nconst icons = {\n  email: \"mail-outline\",\n  sms: \"phone-portrait-outline\",\n  customEmail: \"cube-outline\",\n  done: \"checkmark-outline\",\n  error: \"close-outline\"\n};\n\nconst messages = {\n  email: {\n    default: \"Email Pay Instructions to me\",\n    error: \"Something went wrong. Try emailing instructions again?\"\n  },\n  sms: {\n    default: \"SMS Pay Instructions to me\",\n    error: \"Something went wrong. Try sending instructions by SMS again?\"\n  },\n  customEmail: {\n    default: \"Email Pay Instructions to another address\",\n    error: \"Something went wrong. Try emailing instructions again?\"\n  }\n};\n\nconst reducer = (state, action) => {\n  const { target, type, error } = action;\n  const newState = { ...state };\n  switch (type) {\n    case \"BEGIN\":\n      newState[target].message = messages[target].default;\n      newState[target].isSending = true;\n      newState[target].error = null;\n      newState[target].isSent = false;\n      return newState;\n    case \"DONE\":\n      newState[target].isSending = false;\n      newState[target].isSent = true;\n      newState[target].icon = icons.done;\n      return newState;\n    case \"ERROR\":\n      newState[target].isSending = false;\n      newState[target].isSent = false;\n      newState[target].error = error;\n      newState[target].icon = icons.error;\n      newState[target].message = messages[target].error;\n      return newState;\n    case \"RESET\":\n      newState[target].isSending = false;\n      newState[target].isSent = false;\n      newState[target].error = null;\n      newState[target].icon = icons[target];\n      newState[target].message = messages[target].default;\n      return newState;\n    default:\n    //  no default\n  }\n};\n\nconst initialState = {\n  email: {\n    isSent: false,\n    isSending: false,\n    error: null,\n    icon: icons.email,\n    message: messages.email.default\n  },\n  sms: {\n    isSent: false,\n    isSending: false,\n    error: null,\n    icon: icons.sms,\n    message: messages.sms.default\n  },\n  customEmail: {\n    isSent: false,\n    isSending: false,\n    error: null,\n    icon: icons.customEmail,\n    message: messages.customEmail.default\n  }\n};\n\nconst actionSharedProps = {\n  variant: \"link\",\n  className: \"mb-2\",\n  iconStyle: { fontSize: \"120%\" },\n  block: false\n};\n\nconst PayInformationActions = () => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const { user } = useContext(AuthContext);\n\n  const smsInstructionsToMe = async () => {\n    const target = \"sms\";\n    try {\n      dispatch({ target, type: \"BEGIN\" });\n      await gpib.secure.get(`/sms/payinstructions/${user.id}`);\n      dispatch({ target, type: \"DONE\" });\n    } catch (error) {\n      dispatch({ target, type: \"ERROR\", error });\n    }\n  };\n\n  const emailInstructionsToMe = async () => {\n    await emailInstructions(user?.email, \"email\");\n  };\n\n  const emailInstructionsToOther = async (customEmail, actions) => {\n    if (!isEmail(customEmail))\n      return dispatch({\n        target: \"customEmail\",\n        type: \"ERROR\",\n        error: \"Invalid email\"\n      });\n    actions.setInputShown(false);\n\n    await emailInstructions(customEmail, \"customEmail\");\n  };\n\n  const emailInstructions = async (email, target) => {\n    try {\n      dispatch({ target, type: \"BEGIN\" });\n      await gpib.secure.get(`/email/payinstructions/${user.id}?email=${email}`);\n      dispatch({ target, type: \"DONE\" });\n    } catch (error) {\n      dispatch({ target, type: \"ERROR\", error });\n    }\n  };\n\n  return (\n    <div>\n      <SubmitSpinnerButton\n        icon={state.email.icon}\n        submitText={state.email.message}\n        isSubmitting={state.email.isSending}\n        onClick={emailInstructionsToMe}\n        {...actionSharedProps}\n      />\n      <br />\n      <SubmitSpinnerButton\n        icon={state.sms.icon}\n        submitText={state.sms.message}\n        isSubmitting={state.sms.isSending}\n        onClick={smsInstructionsToMe}\n        {...actionSharedProps}\n      />\n      <br />\n      <ButtonInputSwitcher\n        icon={state.customEmail.icon}\n        submitText={state.customEmail.message}\n        isSubmitting={state.customEmail.isSending}\n        onSubmit={emailInstructionsToOther}\n        confirmText=\"Send\"\n        onCancel={() => dispatch({ type: \"RESET\", target: \"customEmail\" })}\n        {...actionSharedProps}\n      />\n    </div>\n  );\n};\n\nexport default PayInformationActions;\n","import React, { useContext, useState, useRef } from \"react\";\nimport useSWR from \"swr\";\nimport Layout from \"components/layout/Layout\";\nimport TransactionTable from \"components/transactions/TransactionTable\";\nimport AddressTotals from \"components/addresses/AddressTotals\";\nimport AddressPercentBar from \"components/addresses/AddressPercentBar\";\nimport UserStats from \"components/users/UserStats\";\nimport ErrorMessage from \"components/ErrorMessage\";\nimport Loader from \"components/Loader\";\nimport { AuthContext } from \"components/auth/Auth\";\nimport PayInformationTable from \"components/pay-information/PayInformationTable\";\nimport Card from \"components/Card\";\nimport PayInformationActions from \"components/pay-information/PayInformationActions\";\nimport \"./Dashboard.scss\";\n\nimport { CSVLink } from \"react-csv\";\nimport { Alert, Button } from \"react-bootstrap\";\nimport api from \"../apis/api\";\n\nconst Dashboard = () => {\n  const { user, isVerified, hasVerified } = useContext(AuthContext);\n  const [year, setYear] = useState(new Date().getFullYear());\n  const [transactionsDownload, setTransactionsDowload] = useState([]);\n  const [downloadError, setDownloadError] = useState({\n    show: false,\n    message: \"\"\n  });\n\n  const csvRef = useRef();\n  // const { data: referralCredits, error: fetchReferralCreditsError } = useSWR(\n  //   \"/referralCredits\"\n  // );\n\n  // const {\n  //   data: referralTransfers,\n  //   error: fetchReferralTransfersError\n  // } = useSWR(\"/referralTransfer\");\n\n  // const { data: depositHints, error: fetchDepositHintsError } = useSWR(\n  //   `/user/${user.id}/deposithints`\n  // );\n\n  const { data: userDetails, error: fetchDetailsError } = useSWR(\n    `/user/${user.id}`\n  );\n\n  // const { data: userAddress } = useSWR(user && `/user/${user.id}/address`);\n\n  // // Only if verified\n  // const { data: bankDetails, error: fetchBankDetailsError } = useSWR(\n  //   isVerified && `/user/${user.id}/bankdetails`\n  // );\n\n  const { data: transactions, error: fetchTransactionsError } = useSWR(\n    `/interactions/`\n  );\n\n  // const { data: userStats, error: fetchStatsError } = useSWR(\n  //   \"/stats/all\"\n  // );\n\n  const userStats = {\n  };\n\n  // const { data: addressTotals, error: fetchAddressTotalsError } = useSWR(\n  //   isVerified && `/user/${user.id}/address/totals`\n  // );\n\n  // const { data: archivedAddresses, error: fetchArchivedAddressError } = useSWR(\n  //   isVerified && `/user/${user.id}/address?deleted=true`\n  // );\n\n  // const { data: activeAddresses, error: fetchActiveAddressError } = useSWR(\n  //   isVerified && `/user/${user.id}/address`\n  // );\n\n  // const { data: referrals, error: referralsError } = useSWR(\n  //   user.id && `/user/${user.id}/referral`\n  // );\n\n  // Loading status\n  // const isFetchingDepositHints = !depositHints && !fetchDepositHintsError;\n  // const isFetchingStats = isVerified && !userStats && !fetchStatsError;\n\n  // const isFetchingBankDetails =\n  //   isVerified && !bankDetails && !fetchBankDetailsError;\n  // const isFetchingDetails = isVerified && !userDetails && !fetchDetailsError;\n  // const isFetchingTransactions =\n  //   isVerified && !transactions && !fetchTransactionsError;\n\n  const bankDetails = {\n    name: \"Test\",\n    number: \"123456789\",\n    bsb: \"123456\"\n  };\n\n  const isFetching = false;\n  const currentYear = new Date().getFullYear();\n\n  const handleDownload = async () => {\n    setDownloadError({ show: false, message: \"\" });\n    try {\n      if (year) {\n        const filterTransactions = await api.secure.get(\n          `/transaction/download/${year}`\n        );\n        if (filterTransactions.data.length > 0) {\n          setTransactionsDowload(filterTransactions.data);\n          await new Promise((resolve) => setTimeout(resolve, 3000));\n          csvRef.current.link.click();\n        } else {\n          setDownloadError({ show: true, message: \"No transactions found\" });\n        }\n      }\n    } catch (error) {\n      console.error(error);\n      setDownloadError({ show: true, message: error.message });\n    }\n  };\n  return (\n    <Layout activeTab=\"Dashboard\">\n      <div className=\"dashboard container-fluid py-4\">\n        <Loader loading={!hasVerified} />\n        <section className=\"main row\">\n          <div className={isVerified ? \"overlay\" : \"overlay active\"} />\n          <aside className=\"col-lg-5\">\n            <section>\n              <Card>\n                <h4>Stats</h4>\n                <ErrorMessage error={fetchDetailsError} />\n                <Loader loading={isFetching} />\n                <UserStats stats={userStats} />\n              </Card>\n            </section>\n          </aside>\n          <section className=\"content col-lg-7\">\n            <section style={{ position: \"relative\" }}>\n              <Card>\n                <h4>Unique Bitcoin Pay Information</h4>\n                <p>\n                  Please provide the following Unique Bitcoin Pay Information to\n                  your employer for processing the part of your salary to be\n                  paid in bitcoin.\n                </p>\n                <ErrorMessage error={fetchDetailsError} />\n                <Loader\n                  loading={\n                    isFetching\n                  }\n                />\n                <PayInformationTable\n                  bankDetails={bankDetails}\n                  userDetails={userDetails}\n                />\n                <PayInformationActions />\n              </Card>\n            </section>\n            <section style={{ position: \"relative\" }}>\n              <Card>\n                <div className=\"d-flex flex-row\">\n                  <div className=\"mr-auto p-2\">\n                    <h4>Transactions</h4>\n                  </div>\n                  <div className=\"p-2\">\n                    <select\n                      className=\"form-control\"\n                      id=\"downloadYear\"\n                      onChange={(e) => {\n                        setYear(e.target.value);\n                      }}\n                    >\n                      <option>{currentYear}</option>\n                      <option>{currentYear - 1}</option>\n                      <option>{currentYear - 2}</option>\n                    </select>\n                  </div>\n                  <div className=\"p-2\">\n                    <Button onClick={handleDownload}>Download CSV</Button>\n                    <CSVLink\n                      data={transactionsDownload}\n                      filename={\"User-transactions.csv\"}\n                      className=\"hidden\"\n                      target=\"_blank\"\n                      ref={csvRef}\n                    />\n                  </div>\n                </div>\n                {downloadError.show && (\n                  <Alert variant=\"danger\">{downloadError.message}</Alert>\n                )}\n                <ErrorMessage error={fetchTransactionsError} />\n                <Loader loading={isFetching} />\n                <TransactionTable transactions={transactions} />\n              </Card>\n              <Card>\n                <h4>Payments</h4>\n                {/* <ErrorMessage error={fetchReferralTransfersError} /> */}\n                <Loader loading={isFetching} />\n              </Card>\n            </section>\n          </section>\n        </section>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Dashboard;\n","import React, { useState, useEffect } from \"react\";\nimport { Formik, Form } from \"formik\";\nimport { isEmail } from \"validator\";\nimport { Alert } from \"react-bootstrap\";\nimport gpib from \"apis/api\";\nimport Input from \"components/forms/Input\";\nimport SubmitSpinnerButton from \"components/forms/SubmitSpinnerButton\";\nimport ErrorMessage from \"components/ErrorMessage\";\n\nconst validate = ({ email }) => {\n  const errors = {};\n  if (!isEmail(email)) errors.email = \"Please enter a valid email\";\n  return errors;\n};\n\nconst ResetPasswordLinkForm = ({ initialValues = { email: \"\" } }) => {\n  const [timer, setTimer] = useState(null);\n  const [showAlert, setShowAlert] = useState(false);\n  const isDisabled = timer || timer === 0;\n\n  const onSubmit = async (values, actions) => {\n    try {\n      await gpib.open.get(`/user/resetpassword?email=${values.email}`);\n      setShowAlert(true);\n      setTimer(60);\n      actions.setSubmitting(false);\n    } catch (e) {\n      console.log(e);\n      actions.setErrors({ hidden: e });\n      actions.setSubmitting(false);\n    }\n  };\n\n  useEffect(() => {\n    if ((timer || timer === 0) && timer >= 0) {\n      setTimeout(() => {\n        const newTimer = timer - 1;\n        return newTimer < 0 ? setTimer(null) : setTimer(newTimer);\n      }, 1000);\n    }\n  }, [timer]);\n\n  const getSubmitText = () => {\n    const actionTxt = showAlert ? \"Resend\" : \"Send\";\n    let txt = `${actionTxt} Reset Password Link`;\n    if (timer) txt += ` ${timer}`;\n    return txt;\n  };\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      validate={validate}\n      onSubmit={onSubmit}\n    >\n      {({ isSubmitting, errors }) => (\n        <Form\n          style={{ flex: 1, maxWidth: \"65rem\" }}\n          className=\"container-fluid\"\n        >\n          <Input\n            label=\"Please enter the email associated with your account\"\n            name=\"email\"\n            placeholder=\"email\"\n            disabled={isDisabled || isSubmitting}\n          />\n          <ErrorMessage error={errors.hidden} />\n          <SubmitSpinnerButton\n            submitText={getSubmitText()}\n            isSubmitting={isSubmitting}\n            disabled={isDisabled || isSubmitting}\n          />\n          {showAlert && (\n            <Alert variant=\"primary mt-3\">\n              A email has been sent to your nominated address with a link to\n              reset your password. This link will expire in 1 hour. Please allow\n              a few minutes for the email to arrive and check your spam folders.\n            </Alert>\n          )}\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default ResetPasswordLinkForm;\n","import React, { useContext, useState } from \"react\";\nimport { Formik, Form } from \"formik\";\nimport { useHistory } from \"react-router-dom\";\nimport { Alert } from \"react-bootstrap\";\nimport gpib from \"apis/api\";\nimport Input from \"components/forms/Input\";\nimport SubmitSpinnerButton from \"components/forms/SubmitSpinnerButton\";\nimport { minPasswordLength } from \"constants/index\";\nimport { AuthContext } from \"components/auth/Auth\";\nimport ErrorMessage from \"components/ErrorMessage\";\n\nconst validate = ({ password, passwordMatch }) => {\n  const requiredMsg = \"This field is required\";\n  const errors = {};\n\n  // Required fields\n  if (!password) errors.password = requiredMsg;\n  if (!passwordMatch) errors.passwordMatch = requiredMsg;\n\n  // Formatting\n  if (password.length < minPasswordLength)\n    errors.password = `Password must be at least ${minPasswordLength} characters`;\n\n  // Password match\n  if (password !== passwordMatch)\n    errors.passwordMatch = \"Passwords do not match\";\n\n  return errors;\n};\n\nconst initialValues = {\n  password: \"\",\n  passwordMatch: \"\"\n};\n\nconst ResetPasswordForm = ({ onSuccess, onError, email, token }) => {\n  const { login, isLoggingIn } = useContext(AuthContext);\n  const [loginError, setLoginError] = useState(null);\n  const [password, setPassword] = useState(null);\n  const history = useHistory();\n  const { user } = useContext(AuthContext);\n\n  const wrappedLogin = async () => {\n    if (user) history.push(\"/\");\n    try {\n      setLoginError(null);\n      if (email && password) await login({ username: email, password });\n      history.push(\"/\");\n    } catch (e) {\n      setLoginError(e);\n    }\n  };\n\n  const onSubmit = async (values, actions) => {\n    try {\n      await gpib.open.post(\n        \"/user/resetpassword\",\n        {\n          password: values.password\n        },\n        {\n          headers: {\n            authorization: `Bearer ${token}`\n          }\n        }\n      );\n      actions.setSubmitting(false);\n      setPassword(values.password);\n      if (onSuccess) onSuccess(values, actions);\n    } catch (e) {\n      console.log(e);\n      actions.setErrors({ hidden: e });\n      actions.setSubmitting(false);\n      if (onError) onError(e);\n    }\n  };\n\n  return (\n    <div style={{ flex: 1, maxWidth: \"65rem\" }} className=\"container-fluid\">\n      {password ? (\n        <>\n          <Alert variant=\"primary\">Your password has been reset</Alert>\n          <ErrorMessage error={loginError} />\n          <SubmitSpinnerButton\n            submitText={user ? \"Go to Dashboard\" : \"Login\"}\n            isSubmitting={isLoggingIn}\n            onClick={wrappedLogin}\n          />\n        </>\n      ) : (\n        <Formik\n          initialValues={initialValues}\n          validate={validate}\n          onSubmit={onSubmit}\n        >\n          {({ isSubmitting, errors }) => (\n            <Form>\n              <Input\n                name=\"password\"\n                placeholder=\"Enter a new password\"\n                type=\"password\"\n              />\n              <Input\n                name=\"passwordMatch\"\n                placeholder=\"Confirm your new password\"\n                type=\"password\"\n              />\n              <ErrorMessage error={errors.hidden} />\n              <SubmitSpinnerButton\n                submitText=\"Reset Password\"\n                isSubmitting={isSubmitting}\n              />\n            </Form>\n          )}\n        </Formik>\n      )}\n    </div>\n  );\n};\n\nexport default ResetPasswordForm;\n","import React from \"react\";\nimport { useParams, useLocation } from \"react-router-dom\";\nimport qs from \"qs\";\nimport Layout from \"components/layout/Layout\";\nimport ResetPasswordLinkForm from \"components/auth/ResetPasswordLinkForm\";\nimport ResetPasswordForm from \"components/auth/ResetPasswordForm\";\n\nconst ResetPasswordPage = () => {\n  const { token } = useParams();\n  const location = useLocation();\n  const { email } = qs.parse(location.search, { ignoreQueryPrefix: true });\n\n  return (\n    <Layout>\n      <div\n        className=\"py-5 container d-flex justify-content-center align-items-center\"\n        style={{ maxWidth: \"50rem\" }}\n      >\n        {token ? (\n          <ResetPasswordForm token={token} email={email} />\n        ) : (\n          <ResetPasswordLinkForm email={email} />\n        )}\n      </div>\n    </Layout>\n  );\n};\n\nexport default ResetPasswordPage;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport { mutate } from \"swr\";\nimport Layout from \"components/layout/Layout\";\nimport ErrorMessage from \"components/ErrorMessage\";\nimport Loader from \"components/Loader\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport api from \"apis/api\";\nimport { AuthContext } from \"components/auth/Auth\";\n\nconst VerifyEmailPage = () => {\n  const { token } = useParams();\n  const { user } = useContext(AuthContext);\n  const history = useHistory();\n  const [isVerifying, setVerifying] = useState(true);\n  const [error, setError] = useState(null);\n\n  if (!token) history.push(\"/\");\n\n  useEffect(() => {\n    const verifytoken = async () => {\n      try {\n        await api.open.post(\n          \"/user/verifyemail\",\n          {},\n          {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          }\n        );\n        await mutate(`/user/${user?.id}`, (state) => ({\n          ...state,\n          emailVerified: true\n        }));\n        setVerifying(false);\n        history.push(\"/\");\n      } catch (e) {\n        setError(e);\n        setVerifying(false);\n      }\n    };\n    verifytoken();\n  }, [history, token, user]);\n\n  return (\n    <Layout>\n      <div className=\"container py-5\">\n        <ErrorMessage error={error} />\n        <Loader loading={isVerifying} />\n      </div>\n    </Layout>\n  );\n};\n\nexport default VerifyEmailPage;\n","import React from \"react\";\nimport Table from \"components/Table\";\nimport \"./AddressTable.scss\";\n\n// dataField (key) props (value)\nconst columnConfig = {\n  label: {\n    children: \"Label\",\n    width: \"30%\"\n  },\n  address1: {\n    children: \"Address\"\n  },\n  percent: {\n    children: \"%\",\n    thStyle: {\n      width: \"15%\",\n      textAlign: \"right\"\n    },\n    tdStyle: {\n      width: \"15%\",\n      textAlign: \"right\"\n    }\n  },\n  id: {\n    children: \"ID\",\n    hidden: true\n  }\n};\n\nconst AddressTable = ({ addresses, ...props }) => (\n  \n  <Table\n    data={addresses}\n    columnConfig={columnConfig}\n    keyField=\"id\"\n    className=\"address-table\"\n    {...props}\n  />\n);\n\nexport default AddressTable;\n","import React from \"react\";\nimport Table from \"components/Table\";\nimport \"./AddressTable.scss\";\n\n// dataField (key) props (value)\nconst columnConfig = {\n  label: {\n    children: \"Label\",\n    width: \"30%\"\n  },\n  address1: {\n    children: \"Address\"\n  },\n  id: {\n    children: \"ID\",\n    hidden: true\n  }\n};\n\nconst AddressGroupTable = ({ addresses, ...props }) => (\n  <Table\n    data={addresses}\n    columnConfig={columnConfig}\n    keyField=\"id\"\n    className=\"address-table\"\n    {...props}\n  />\n);\n\nexport default AddressGroupTable;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\n\nconst IconButton = ({ icon, children, ...props }) => (\n  <Button style={{ minWidth: 36, minHeight: 38 }} {...props}>\n    <div className=\"d-flex align-items-center justify-content-center\">\n      <ion-icon name={icon} />\n      {children}\n    </div>\n  </Button>\n);\n\nexport default IconButton;\n","import { useState } from \"react\";\n\nconst useSelectedRows = (initialValue, tableConfig = {}) => {\n  const [selected, setSelected] = useState(initialValue);\n  const defaultConfig = {\n    mode: \"radio\",\n    onSelect: (row) => setSelected(row.id)\n  };\n\n  const config = { ...defaultConfig, ...tableConfig, selected: [selected] };\n  return [selected, setSelected, config];\n};\n\nexport default useSelectedRows;\n","import React, { useContext } from \"react\";\nimport useSWR from \"swr\";\nimport { ButtonGroup, Alert } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport Layout from \"components/layout/Layout\";\nimport ErrorMessage from \"components/ErrorMessage\";\nimport Loader from \"components/Loader\";\nimport { AuthContext } from \"components/auth/Auth\";\nimport Card from \"components/Card\";\nimport AddressTable from \"components/addresses/AddressTable\";\nimport AddressGroupTable from \"components/addresses/AddressGroupTable\";\nimport IconButton from \"components/IconButton\";\nimport useSelectedRow from \"hooks/useSelectedRow\";\nimport \"./Dashboard.scss\";\n\nconst AddressesPage = () => {\n  const { user } = useContext(AuthContext);\n  const history = useHistory();\n  const getAddressesUrl = `/user/${user.id}/address`;\n  const [selected, , selectRowConfig] = useSelectedRow(null);\n  const [selectedGroup, , selectGroupRowConfig] = useSelectedRow(null);\n  const { data: addresses, error: fetchAddressError } = useSWR(getAddressesUrl);\n  const isFetchingAddresses = !addresses && !fetchAddressError;\n  const hasMultipleAddresses = addresses?.length > 1;\n  const { data: settings, error: fetchSettingsError } = useSWR(\n    `/settings/${user.id}`\n  );\n  const groupAddress = addresses?.filter((i) => i.groupID);\n  const unGroupAddress = addresses?.filter((i) => !i.groupID);\n\n  const alertText = hasMultipleAddresses\n    ? `If you wish to change your bitcoin address you can swap your desired address to a new bitcoin address.`\n    : `Your payment can be sent up to two bitcoin addresses. For example,\n        you may want to split your payment and send 50% to a cold storage\n        wallet and 50% to a hot wallet.`;\n\n  const actions = [\n    {\n      icon: \"add\",\n      title: \"Add\",\n      onClick: () => history.push(\"/addresses/add\"),\n      hide: hasMultipleAddresses,\n      disabled: user?.idVerificationStatus !== 3\n    },\n    {\n      icon: \"create-outline\",\n      title: \"Edit\",\n      onClick: () => history.push(`/addresses/edit/${selected}`),\n      disabled: !selected\n    },\n    {\n      icon: \"swap-horizontal-outline\",\n      title: \"Swap\",\n      onClick: () => history.push(`/addresses/swap/${selected}`),\n      disabled: !selected,\n      hide: user?.idVerificationStatus !== 3\n    },\n    {\n      icon: \"archive-outline\",\n      title: \"Archive\",\n      onClick: () => history.push(`/addresses/archive/${selected}`),\n      disabled: !selected || unGroupAddress?.length === 1,\n      hide: !hasMultipleAddresses\n    },\n    {\n      icon: \"wallet-outline\",\n      title: \"Group Address\",\n      onClick: () => history.push(`/addresses/group/${selected}`),\n      disabled: !selected || unGroupAddress.length === 1,\n      hide: user?.idVerificationStatus !== 3 || !settings?.allowGroupedAddresses\n    }\n  ];\n\n  const groupActions = [\n    {\n      icon: \"add\",\n      title: \"Add\",\n      onClick: () => history.push(`/addresses/groupAdd`),\n      disabled: unGroupAddress?.length > 1\n    },\n    {\n      icon: \"create-outline\",\n      title: \"Edit\",\n      onClick: () => history.push(`/addresses/groupEdit/${selectedGroup}`),\n      disabled: !selectedGroup\n    }\n  ];\n\n  return (\n    <Layout activeTab=\"Addresses\">\n      <div className=\"container py-5\">\n        <Card>\n          <div className=\"d-flex justify-content-between align-items-center mb-3\">\n            <h4>BTC Addresses</h4>\n            <ButtonGroup>\n              {actions.map(({ hide, ...props }, i) =>\n                hide ? null : <IconButton key={i} {...props} />\n              )}\n            </ButtonGroup>\n          </div>\n          <ErrorMessage error={fetchAddressError || fetchSettingsError} />\n          <Loader loading={isFetchingAddresses} />\n          <Alert variant=\"secondary\" className=\"mt-3\">\n            {alertText}\n          </Alert>\n          <AddressTable\n            addresses={unGroupAddress}\n            pagination={false}\n            selectRow={selectRowConfig}\n          />\n        </Card>\n        {settings?.allowGroupedAddresses && (\n          <>\n            <Card>\n              <div className=\"d-flex justify-content-between align-items-center mb-3\">\n                <h4>Group Addresses</h4>\n                <div>\n                  Percentage:{\" \"}\n                  {groupAddress?.length > 0 && groupAddress[0].percent\n                    ? groupAddress[0].percent\n                    : \"0\"}{\" \"}\n                  %\n                </div>\n                <div className=\"d-flex justify-content-start\">\n                  <ButtonGroup>\n                    {groupActions.map(({ hide, ...props }, i) =>\n                      hide ? null : <IconButton key={i} {...props} />\n                    )}\n                  </ButtonGroup>\n                </div>\n              </div>\n              <AddressGroupTable\n                addresses={groupAddress}\n                pagination={false}\n                selectRow={selectGroupRowConfig}\n              />\n            </Card>\n          </>\n        )}\n      </div>\n    </Layout>\n  );\n};\n\nexport default AddressesPage;\n","import React from \"react\";\nimport \"./Toggle.scss\";\n\nconst ToggleField = ({ value, setValue, className, ...props }) => {\n  // const [field, meta, helpers] = useField(props);\n  const toggleValue = () => setValue(!value);\n  let classes = \"toggle form-group\";\n  if (className) classes += ` ${className}`;\n  return (\n    <div className={classes}>\n      <div\n        className={`switch ${value ? \"checked\" : \"\"}`}\n        onClick={toggleValue}\n      >\n        <input type=\"checkbox\" {...props} />\n        <span className=\"slider\" />\n      </div>\n    </div>\n  );\n};\n\nexport default ToggleField;\n","import React, { useContext } from \"react\";\nimport useSWR, { mutate } from \"swr\";\nimport { Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { parsePhoneNumberFromString } from \"libphonenumber-js\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { format as format$ } from \"currency-formatter\";\nimport Layout from \"components/layout/Layout\";\nimport ErrorMessage from \"components/ErrorMessage\";\nimport Loader from \"components/Loader\";\nimport { AuthContext } from \"components/auth/Auth\";\nimport Card from \"components/Card\";\nimport Toggle from \"components/forms/Toggle\";\nimport LabelledTable from \"components/LabelledTable\";\nimport gpib from \"apis/api\";\nimport \"./Dashboard.scss\";\n\nconst Dashboard = () => {\n  const { user } = useContext(AuthContext);\n  const history = useHistory();\n  const location = useLocation();\n\n  // const { data: depositHints, error: fetchDepositHintsError } = useSWR(\n  //   `/user/${user.id}/deposithints`\n  // );\n\n  const depositHints = {\n  };\n\n  const errorMessage = \"Error fetching data\";\n\n  const isFetchingDepositHints = false; // !depositHints && !fetchDepositHintsError;\n\n  // const { data: userDetails, error: fetchDetailsError } = useSWR(\n  //   `/user/${user.id}`\n  // );\n\n  const userDetails = {\n    \"id\": 1,\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"email\": \"\"\n  };\n\n  const isFetchingDetails = \"false\"; // !userDetails && !fetchDetailsError;\n\n  const { data: settings, error: fetchSettingsError } = useSWR(\n    `/settings/${user.id}`\n  );\n\n  const { data: referralRate, error: fetchReferralRate } = useSWR(\n    \"/referral/rate\"\n  );\n  const isFetchingSettings =\n    !settings && !fetchSettingsError && !fetchReferralRate;\n\n  const { data: accountInfo, error: fetchAccountInfoError } = useSWR(\n    `/accountInfoes/user/${user.id}`\n  );\n\n  const isFetchingAccountInfo = !accountInfo && !fetchAccountInfoError;\n\n  const fullName = [\n    userDetails?.firstName,\n    userDetails?.middleName,\n    userDetails?.lastName\n  ]\n    .filter((n) => n)\n    .join(\" \");\n\n  const mobile = userDetails?.mobileNumber\n    ? parsePhoneNumberFromString(userDetails?.mobileNumber, \"AU\").format(\n        \"INTERNATIONAL\"\n      )\n    : \"\";\n\n  const feesPerTransaction = userDetails?.fees;\n  const profileColumns = [\n    [\"Name\", fullName],\n    [\"Mobile\", mobile],\n    [\"Email\", userDetails?.email],\n    [\"Fees Per Transaction\", format$(feesPerTransaction, { code: \"AUD\" })]\n  ];\n\n  const payrollColumns = [\n    [\"Employer\", depositHints?.employerName],\n    [\"Deposit Amount\", format$(depositHints?.depositAmount, { code: \"AUD\" })],\n    [\n      \"Deposit Reference (Wage transfer description or staff number as it appears on your bank statement)\",\n      depositHints?.bankStatement\n    ]\n  ];\n\n  const accountInfoColumns = [\n    [\n      \"BTC Threshold (Keep Bitcoin Pay on GPIB Portal until they reach this value.)\",\n      format$(accountInfo?.btcThreshold, { code: \"AUD\" })\n    ]\n  ];\n\n  const updateSettings = async (updates) => {\n    const url = `/settings/${user.id}`;\n    mutate(url, (state) => ({ ...state, ...updates }), false);\n    await gpib.secure.patch(url, updates);\n    mutate(url);\n  };\n\n  const settingsColumns = [\n    [\n      \"Email Remittance on Transfer\",\n      <Toggle\n        className=\"float-right\"\n        value={settings?.sendEmailOnTransfer}\n        setValue={() =>\n          updateSettings({\n            sendEmailOnTransfer: !settings?.sendEmailOnTransfer\n          })\n        }\n      />\n    ],\n    [\n      \"Receive PGP Signed Emails\",\n      <Toggle\n        className=\"float-right\"\n        value={settings?.sendPGPEmails}\n        setValue={() =>\n          updateSettings({\n            sendPGPEmails: !settings?.sendPGPEmails\n          })\n        }\n      />\n    ]\n  ];\n\n  if (user.idVerificationStatus === 3) {\n    settingsColumns.push([\n      \"Allow Grouped Addresses\",\n      <Toggle\n        className=\"float-right\"\n        value={settings?.allowGroupedAddresses}\n        setValue={() =>\n          updateSettings({\n            allowGroupedAddresses: !settings?.allowGroupedAddresses\n          })\n        }\n      />\n    ]);\n  }\n\n  const onEditPayrollClick = (_e) =>\n    history.push(`${location.pathname}/payroll/edit`);\n\n  const onUpdatePasswordClick = (_e) => {\n    history.push(\"/auth/resetpassword\");\n  };\n  const onEditReferralClick = (_e) =>\n    history.push(`${location.pathname}/referral/send`);\n\n  const onEditMobileClick = (_e) =>\n    history.push(`${location.pathname}/mobile/send`);\n\n  const onEditAccountInfoClick = (_e) =>\n    history.push(`${location.pathname}/accountInfo/edit`);\n\n  const referralColumns = [\n    [\"Referral Code\", `${user.id}`],\n    [\n      \"Referral Link\",\n      `${process.env.REACT_APP_URL}/register?referralCode=${user.id}`\n    ],\n    [\"Referral Bonus Per Transaction\", `$ ${referralRate?.fixedAmount}`]\n  ];\n  return (\n    <Layout activeTab=\"profile\">\n      <div className=\"container py-5\">\n        <Card>\n          <div className=\"d-flex justify-content-between\">\n            <h4>Profile Information</h4>\n            <Button className=\"mb-3\" onClick={onEditMobileClick}>\n              <span className=\"mr-2\">Update Mobile</span>\n              <ion-icon name=\"create-outline\" />\n            </Button>\n          </div>\n          <ErrorMessage error={errorMessage} />\n          <Loader loading={isFetchingDetails} />\n          <LabelledTable columns={profileColumns} />\n          <p style={{ fontSize: \"95%\" }}>\n            <i>\n              Please <Link to=\"/contactsupport\">contact support</Link> if any\n              information is incorrect or needs to be updated.\n            </i>\n          </p>\n        </Card>\n        <Card>\n          <div className=\"d-flex justify-content-between\">\n            <h4>Payroll</h4>\n            <Button className=\"mb-3\" onClick={onEditPayrollClick}>\n              <span className=\"mr-2\">Edit</span>\n              <ion-icon name=\"create-outline\" />\n            </Button>\n          </div>\n          <ErrorMessage error={fetchAccountInfoError} />\n          <Loader loading={isFetchingDepositHints} />\n          <LabelledTable columns={payrollColumns} />\n        </Card>\n        <Card>\n          <div className=\"d-flex justify-content-between\">\n            <h4>Remittance Setting</h4>\n            <Button className=\"mb-3\" onClick={onEditAccountInfoClick}>\n              <span className=\"mr-2\">Edit</span>\n              <ion-icon name=\"create-outline\" />\n            </Button>\n          </div>\n          <ErrorMessage error={fetchAccountInfoError} />\n          <Loader loading={isFetchingAccountInfo} />\n          <LabelledTable columns={accountInfoColumns} />\n        </Card>\n        <Card>\n          <div className=\"d-flex justify-content-between\">\n            <h4>Referral Program</h4>\n            <Button className=\"mb-3\" onClick={onEditReferralClick}>\n              <span className=\"mr-2\">Send Email</span>\n              <ion-icon name=\"create-outline\" />\n            </Button>\n          </div>\n          <ErrorMessage error={fetchAccountInfoError} />\n          <Loader loading={isFetchingDepositHints} />\n          <LabelledTable columns={referralColumns} />\n        </Card>\n        <Card>\n          <h4 className=\"mb-3\">Settings</h4>\n          <ErrorMessage error={fetchSettingsError} />\n          <Loader loading={isFetchingSettings} />\n          <LabelledTable columns={settingsColumns} />\n          <Button\n            variant=\"primary\"\n            className=\"mt-3\"\n            onClick={onUpdatePasswordClick}\n          >\n            Reset Password\n          </Button>\n        </Card>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Dashboard;\n","import React from \"react\";\n\nconst ModalHeader = ({ heading, onDismiss, noExit }) => {\n  return (\n    <div\n      className={\n        heading ? \"modal-header align-items-center\" : \"container-fluid p-2\"\n      }\n    >\n      {heading && <h5 className=\"modal-title\">{heading}</h5>}\n      {!noExit && (\n        <button type=\"button\" className=\"close\" onClick={onDismiss}>\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      )}\n    </div>\n  );\n};\nexport default ModalHeader;\n","import React from \"react\";\n\nconst ModalFooter = ({ footer }) => {\n  return footer ? <div className=\"modal-footer\">{footer}</div> : null;\n};\n\nexport default ModalFooter;\n","import React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport ModalHeader from \"./ModalHeader\";\nimport ModalFooter from \"./ModalFooter\";\n\n/* \n\tModal component using bootstrap classes but without jquery.\n\tRequired props: isOpen (bool), onDismiss (function)\n\tOptional props: children, heading, footer, large, small\n*/\n\nconst Modal = ({\n  isOpen,\n  heading,\n  footer,\n  large,\n  small,\n  children,\n  noExit,\n  ...props\n}) => {\n  const body = document.querySelector(\"body\");\n  const [display, setDisplay] = useState(\"none\");\n  const [show, setShow] = useState(\"\");\n\n  useEffect(() => {\n    if (isOpen) {\n      body.classList.add(\"modal-open\");\n      transitionIn();\n    } else {\n      transitionOut();\n      body.classList.remove(\"modal-open\");\n    }\n    return () => body.classList.remove(\"modal-open\");\n  }, [isOpen, body.classList]);\n\n  const transitionIn = () => {\n    setDisplay(\"block\");\n    setTimeout(() => {\n      setShow(\" show\");\n    }, 50);\n  };\n\n  const transitionOut = () => {\n    setShow(\"\");\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        setDisplay(\"none\");\n        resolve();\n      }, 100);\n    });\n  };\n\n  // wait for transition effect before executing callback\n  const onDismiss = async () => {\n    await transitionOut();\n    props.onDismiss();\n  };\n\n  const wrapCallback = (func) => (...args) => func(...args, { onDismiss });\n\n  const renderModal = () => (\n    <div>\n      <div className={`modal-backdrop fade${show}`} style={{ display }} />\n      <div\n        className={`modal fade${show}`}\n        onClick={noExit ? undefined : onDismiss}\n        style={{ display }}\n      >\n        <div\n          className={`modal-dialog modal-dialog-centered ${\n            large ? \"modal-xl\" : \"\"\n          } ${small ? \"modal-sm\" : \"\"}`}\n          onClick={(e) => e.stopPropagation()}\n        >\n          <div className=\"modal-content\" onSubmit={(e) => e.stopPropagation()}>\n            <ModalHeader\n              heading={heading}\n              onDismiss={onDismiss}\n              noExit={noExit}\n            />\n            <div className=\"modal-body\">\n              {typeof children === \"function\"\n                ? children({ onDismiss, wrapCallback })\n                : children}\n            </div>\n            <ModalFooter footer={footer} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n  return ReactDOM.createPortal(renderModal(), document.querySelector(\"#modal\"));\n};\n\nexport default Modal;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport { Alert, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport LoginForm from \"components/auth/LoginForm\";\nimport Modal from \"components/Modal\";\nimport api from \"apis/api\";\nimport { AuthContext } from \"components/auth/Auth\";\n\nlet pendingRequests = [];\n\nconst RefreshLoginModal = () => {\n  const { logout } = useContext(AuthContext);\n  const [isOpen, setOpen] = useState(false);\n  const el = useRef(null);\n  const onDismiss = () => setOpen(false);\n  const onLogin = () => {\n    const { token } = JSON.parse(localStorage.getItem(\"user\"));\n    pendingRequests.forEach(({ config, res }) => {\n      if (token) config.headers.Authorization = `Bearer ${token}`;\n      res(axios(config));\n    });\n    pendingRequests = [];\n    onDismiss();\n  };\n\n  const onCancel = () => {\n    setOpen(false);\n    pendingRequests = pendingRequests.forEach(({ res }) => res());\n    pendingRequests = [];\n    logout();\n  };\n\n  // Hide/Show other modals if 401 received while modal is open\n  useEffect(() => {\n    if (!el.current) return;\n    const children = document.querySelector(\"#modal\").children;\n    if (isOpen) {\n      Object.keys(children).forEach((key) => {\n        if (!children[key].contains(el.current))\n          children[key].style.display = \"none\";\n      });\n    } else {\n      Object.keys(children).forEach((key) => {\n        if (!children[key].contains(el.current))\n          children[key].style.display = \"block\";\n      });\n    }\n  }, [isOpen]);\n\n  // Catch any 401 errors\n  useEffect(() => {\n    api.secure.interceptors.response.use(\n      (res) => res,\n      async (e) => {\n        const original = e.config;\n        if (e?.response?.status !== 401) throw e;\n        \n        // todo: roll back\n        // setOpen(true);\n        return new Promise((res) =>\n          pendingRequests.push({ config: original, res })\n        );\n      }\n    );\n  }, []);\n\n  return isOpen ? (\n    <Modal isOpen={isOpen} onDismiss={onDismiss} heading=\"Login\" noExit>\n      <div ref={el}>\n        <Alert variant=\"primary\" children=\"Your session has expired.\" />\n        <LoginForm onLogin={onLogin} noReset />\n        <Button\n          variant=\"light\"\n          block\n          children=\"Cancel\"\n          className=\"mt-3\"\n          onClick={onCancel}\n        />\n      </div>\n    </Modal>\n  ) : null;\n};\n\nexport default RefreshLoginModal;\n","import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport LoginPage from \"pages/LoginPage\";\nimport RegisterPage from \"pages/RegisterPage\";\nimport AuthRoute from \"components/auth/AuthRoute\";\nimport Dashboard from \"pages/Dashboard\";\nimport ResetPasswordPage from \"pages/ResetPasswordPage\";\nimport VerifyEmailPage from \"pages/VerifyEmailPage\";\nimport AddressesPage from \"pages/AddressesPage\";\nimport ProfilePage from \"pages/ProfilePage\";\nimport RefreshLoginModal from \"components/auth/RefreshLoginModal\";\n\nconst Router = () => (\n  <BrowserRouter>\n    <RefreshLoginModal />\n    <Switch>\n      <Route path=\"/auth/resetpassword/:token\" component={ResetPasswordPage} />\n      <Route path=\"/auth/resetpassword\" component={ResetPasswordPage} />\n      <Route path=\"/verify/email/:token\" component={VerifyEmailPage} />\n      <Route path=\"/login\" component={LoginPage} />\n      <Route path=\"*/register\" component={RegisterPage} />\n      <AuthRoute path=\"/addresses\" component={AddressesPage} />\n      <AuthRoute path=\"/profile\" component={ProfilePage} />\n      <AuthRoute path=\"/\" component={Dashboard} allowUnverified />\n    </Switch>\n  </BrowserRouter>\n);\n\nexport default Router;\n","import React from \"react\";\nimport { SWRConfig } from \"swr\";\nimport api from \"apis/api\";\nimport Router from \"components/Router\";\nimport { AuthProvider } from \"components/auth/Auth\";\nimport \"./App.scss\";\n\nconst swrConfig = {\n  fetcher: (url) => api.secure.get(url).then((res) => res.data),\n  shouldRetryOnError: false\n};\n\nconst App = () => (\n  <SWRConfig value={swrConfig}>\n    <AuthProvider>\n      <Router />\n    </AuthProvider>\n  </SWRConfig>\n);\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n","exports.minPasswordLength = 6;\n"],"sourceRoot":""}